<ion-app>
  <ion-split-pane contentId="main-content">
    <ion-menu menuId="main" contentId="main-content" type="overlay" (ionWillOpen)="actualizarNotificaciones()">
      <ion-content>
        <ion-header collapse="fade">
          <ion-toolbar >
            <ion-title>MENU</ion-title>
          </ion-toolbar>
        </ion-header>

        <ion-list id="inbox-list">
          <ion-menu-toggle auto-hide="false" *ngFor="let p of appPages; let i = index">
            <ion-item 
              routerDirection="root" 
              [routerLink]="[p.url]" 
              lines="full" 
              detail="false" 
              routerLinkActive="selected" 
              class="menu-item">
              <ion-icon 
                aria-hidden="true" 
                slot="start" 
                [ios]="p.icon + '-outline'" 
                [md]="p.icon + '-sharp'" 
                class="menu-icon">
              </ion-icon>
              <ion-label class="menu-label">{{ p.title }}</ion-label>
              
              <ion-badge 
                *ngIf="p.title === 'Notificaciones' && (newNotificationsCount > 0)" 
                slot="end" 
                color="danger"
                class="notification-badge">
                {{ newNotificationsCount }}
              </ion-badge>
            </ion-item>
          </ion-menu-toggle>
        </ion-list>
      </ion-content>
    </ion-menu>

    <ion-router-outlet id="main-content"></ion-router-outlet>
  </ion-split-pane>
</ion-app>
